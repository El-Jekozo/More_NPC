[
  {
  	"//":"TODO later do and check all",
    "type": "npc",
    "id": "meteorologist",
    "class": "meteorologist",
    "name_suffix": "meteorologist",
    "attitude": 0,
    "mission": 7,
    "chat": "meteorologist_1",
    "faction": "no_faction",
	"mission_offered": "MISSION_meteorologist_1"
  },
  {	
	"//":"TODO write job_description, stats, skills, clothes etc",
    "type": "npc_class",
    "id": "meteorologist",
    "name": { "str": "Meteorologist" },
    "job_description": "Meteorologist.",
    "common": false,
    "bonus_str": { "rng": [ -2, 2 ] },
    "bonus_dex": { "rng": [ -2, 2 ] },
    "bonus_int": { "rng": [ 2, 5 ] },
    "bonus_per": { "rng": [ -1, 3 ] },
    "worn_override": "meteorologist_worn",
    "traits": [
	  { "group": "NPC_starting_traits" },
	  { "group": "Appearance_demographics" },
      { "trait": "BGSS_METEOROLOGIST" }
    ],
    "skills": [
      { "skill": "ALL", "level": { "mul": [ { "one_in": 3 }, { "sum": [ { "dice": [ 2, 2 ] }, { "constant": -4 } ] } ] } },
      { "skill": "computer", "bonus": { "rng": [ 1, 3 ] } },
      { "skill": "electronics", "bonus": { "rng": [ 3, 4 ] } },
      { "skill": "chemistry", "bonus": { "rng": [ 1, 2 ] } }
    ]
  },
  {
    "type": "item_group",
    "id": "meteorologist_worn",
    "subtype": "collection",
    "entries": [
      { "item": "briefs" },
      { "item": "coat_lab" },
      { "item": "dress_shirt" },
      { "item": "pants" },
      { "item": "socks" },
      { "item": "boots" },
      { "item": "gloves_rubber" },
      { "item": "wristwatch" },
      { "item": "glasses_safety" }
    ]
  },
  {
    "type": "talk_topic",
    "id": [ "meteorologist_1" ],
    "dynamic_line":"Hello there, friend.",
    "responses": [
	  { 
	    "text": "About that jobâ€¦",
        "condition": "has_assigned_mission",
		"topic": "TALK_MISSION_INQUIRE"
	  },
      { "text": "What's your story?", "topic": "meteorologist_Background" },
      { "text": "Do you need any help?", "topic": "TALK_MISSION_LIST" },
	  { "text": "So, where to?", "topic":"meteorologist_safety",
		"condition":{"npc_has_var": "u_helped_meteorologist", "type": "flag", "context": "mission", "value": "yes"}
	  },
      { "text": "Goodbye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "meteorologist_safety",
    "dynamic_line": "Somewhere safe, please. With a lot of people.",
    "responses": [
      { "text": "Let's go.", "topic": "TALK_DONE", 
		"effect":[
			"follow_only",
			{"npc_first_topic":"meteorologist_safety_lead"}
	    ]
	  },
      { "text": "Want to travel with me?", "topic": "TALK_SUGGEST_FOLLOW" },
      { "text": "Maybe later.", "topic": "TALK_NONE" }
	]
  },
  {
    "type": "talk_topic",
    "id": "meteorologist_safety_lead",
    "dynamic_line": "Are we there yet, my friend?",
    "responses": [
      { "text": "Yeah.", "topic": "meteorologist_safety_done",
		"condition":{
		  "or":[
			{"npc_at_om_location": "FACTION_CAMP_ANY"},
			{"npc_at_om_location":"evac_center_18"},
			{"npc_at_om_location":"robofachq_surface_b0"}
		  ]
	    }
	  },
      { "text": "Nope.", "topic": "TALK_DONE" }
	]
  },
  {
    "type": "talk_topic",
    "id": "meteorologist_safety_done",
    "dynamic_line": "Thank you. I will never forget your kindness. Bye.",
    "responses": [
      { "text": "Bye.", "topic": "TALK_NONE", "effect":["stop_following","end_conversation"] }
	]
  },
  {
    "type": "talk_topic",
    "id": "meteorologist_Background",
    "dynamic_line": "I'm just a regular meteorologist. That's all.",
    "responses": [
      { "text": "Interesting", "topic": "TALK_NONE" }
	]
  },
  {
    "id": "MISSION_meteorologist_1",
    "type": "mission_definition",
	"has_generic_rewards":false,
    "name": { "str": "Find scrap 50" },
    "description": "Find sensor_module",
    "goal": "MGOAL_FIND_ITEM",
	"item":"scrap",
	"count":50,
    "difficulty": 0,
    "value": 100,
    "origins": [ "ORIGIN_SECONDARY" ],
    "followup": "MISSION_meteorologist_2",
    "dialogue": {
      "describe": "True student!!!",
      "offer": "I need to build a drone. Find scrap 50, medium_battery_cell 6, sensor_module 5, radiocontrol. First, let's start with scrap.",
      "accepted": "Good",
      "rejected": "Afraid?!",
      "advice": "Don't forget to tell him a few sweet words from me!",
      "inquire": "I'm waiting.",
      "success": "Nice! ",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  },
  {
    "id": "MISSION_meteorologist_2",
    "type": "mission_definition",
	"has_generic_rewards":false,
    "name": { "str": "Find medium_battery_cell 6" },
    "description": "Find medium_battery_cell 6",
    "goal": "MGOAL_FIND_ITEM",
	"item":"medium_battery_cell",
	"count":6,
    "difficulty": 0,
    "value": 100,
    "origins": [ "ORIGIN_SECONDARY" ],
    "followup": "MISSION_meteorologist_3",
    "dialogue": {
      "describe": "True student!!!",
      "offer": "Find medium_battery_cell 6",
      "accepted": "Good",
      "rejected": "Afraid?!",
      "advice": "Don't forget to tell him a few sweet words from me!",
      "inquire": "I'm waiting.",
      "success": "Nice! ",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  },
  {
    "id": "MISSION_meteorologist_3",
    "type": "mission_definition",
	"has_generic_rewards":false,
    "name": { "str": "Find sensor_module 5" },
    "description": "Find sensor_module",
    "goal": "MGOAL_FIND_ITEM",
	"item":"sensor_module",
	"count":5,
    "difficulty": 0,
    "value": 100,
    "origins": [ "ORIGIN_SECONDARY" ],
    "followup": "MISSION_meteorologist_4",
    "dialogue": {
      "describe": "True student!!!",
      "offer": "Find sensor_module 5",
      "accepted": "Good",
      "rejected": "Afraid?!",
      "advice": "Don't forget to tell him a few sweet words from me!",
      "inquire": "I'm waiting.",
      "success": "Nice! ",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  },
  {
    "id": "MISSION_meteorologist_4",
    "type": "mission_definition",
    "name": { "str": "Find radiocontrol" },
    "description": "Find radiocontrol",
    "goal": "MGOAL_FIND_ITEM",
	"item":"radiocontrol",
	"count":1,
    "difficulty": 0,
    "value": 100,
    "origins": [ "ORIGIN_SECONDARY" ],
    "followup": "MISSION_meteorologist_5",
    "dialogue": {
      "describe": "True student!!!",
      "offer": "Find radiocontrol 1. I can reconfigure it to control my drone.",
      "accepted": "Good",
      "rejected": "Afraid?!",
      "advice": "Don't forget to tell him a few sweet words from me!",
      "inquire": "I'm waiting.",
      "success": "Nice! ",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  },
  {
    "id": "MISSION_meteorologist_5",
    "type": "mission_definition",
    "name": { "str": "Find module_meteorologist" },
    "description": "Find module_meteorologist",
    "goal": "MGOAL_FIND_ITEM",
	"item":"module_meteorologist",
	"count":1,
    "difficulty": 0,
    "value": 100,
	"start":{
      "assign_mission_target": {
		"om_terrain": "field",
		"reveal_radius": 1,
		"search_range": 80,
		"min_distance": 25,
		"random":true
	  },
      "update_mapgen": {
		"place_item": [ { "item": "module_meteorologist", "x": [5,15], "y": [5,15] } ],
		"place_monster":[ { "monster":"mon_secubot", "x":[5,15], "y":[5,15], "repeat": [1,5] } ]
	  }
	},
	"end":{
	  "effect":{"npc_add_var": "u_helped_meteorologist", "type": "flag", "context": "mission", "value": "yes"}
	},
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "True student!!!",
      "offer": "Find module_meteorologist",
      "accepted": "Good",
      "rejected": "Afraid?!",
      "advice": "Don't forget to tell him a few sweet words from me!",
      "inquire": "I'm waiting.",
      "success": "Nice! ",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  }
]