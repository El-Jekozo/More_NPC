[
  {
  	"//":"TODO write normal text not this bullshit parody of a writing, balance traits stats etc, add more dialogue",
    "type": "npc",
    "id": "flame_knuckle_leader",
    "name_unique": "Flame Knuckle Leader",
    "gender": "male",
    "name_suffix": "Master",
	"class": "flame_knuckle_leader",
    "attitude": 1,
    "mission": 7,
    "chat": "flame_knuckle_leader_start",
    "faction": "flame_knuckle",
	"mission_offered": "MISSION_flame_knuckle_leader_1"
  },
    {
    "type": "npc_class",
    "id": "flame_knuckle_leader",
    "name": { "str": "Flame Knuckle Leader" },
    "job_description": "The leader of Flame Knuckle.",
    "common": false,
    "traits": [ { "group": "flame_knuckle_master" }],
    "bonus_str": { "rng": [ 4, 8 ] },
    "bonus_dex": { "rng": [ 4, 8 ] },
    "bonus_int": { "rng": [ 4, 6 ] },
    "bonus_per": { "rng": [ 4, 5 ] },
    "worn_override": "flame_knuckle_leader_worn",
    "carry_override": "flame_knuckle_leader_carried",
	
    "skills": [
      { "skill": "dodge", "bonus": { "rng": [ 6, 8 ] } },
      { "skill": "melee", "bonus": { "rng": [ 6, 8 ] } },
      { "skill": "unarmed", "bonus": { "rng": [ 6, 8 ] } }
    ]
  },
  {
    "type": "item_group",
    "id": "flame_knuckle_leader_worn",
    "subtype": "collection",
    "entries": [
		{"item": "karate_gi"},
		{"item": "mouthpiece"},
		{"item": "judo_belt_black"},
		{"item": "geta"},
		{"item": "boxer_shorts"},
		{"item": "mask_bal"},
		{"item": "kevlar"},
		{"item": "legguard_metal"},
		{"item": "armguard_soft"},
		{"item": "armguard_metal"},
		{"item": "shorts_denim"}
    ]
  },
  {
    "type": "item_group",
    "id": "flame_knuckle_leader_carried",
    "subtype": "collection",
    "entries": [ 
	{ "item": "fk_leader_head" },
	{ "item": "manual_aikido" }
	]
  },
  {
    "id": ["flame_knuckle_leader_start"],
    "type": "talk_topic",
	"dynamic_line": "So, what brings you here?",
    "responses": [
	  { 
	  "text": "I'm here for business.",
	  "trial": { "type": "CONDITION", "condition": {"u_has_var":"fkl_business", "type": "flag", "context": "meeting", "value": "yes"}
	  },
	  "success": {"topic": "flame_knuckle_leader_good"},
	  "failure": {"topic": "flame_knuckle_leader_bad"}
	  },
      { "text": "I'm here to kick your ass", "topic": "flame_knuckle_leader_bad" }
    ]
  },
  {
    "id": ["flame_knuckle_leader_good"],
    "type": "talk_topic",
	"dynamic_line": "So you are the newest student I was told about? Unfortunately for you, I know everything about you. I think you understand that you are not the first person this old fool sends to us. But you're in luck, today I'm in a good mood, and I'm ready to give you a chance. Bring that old man's head and I'll think about your joining our school.",
    "responses": [
      { "text": "Sure thing, pal.", "topic": "TALK_DONE", "effect":[{"npc_first_topic":"flame_knuckle_leader_waiting"}] },
      { "text": "No way, f*g.", "topic": "flame_knuckle_leader_bad" }
    ]
  },
  {
    "id": "flame_knuckle_leader_waiting",
    "type": "talk_topic",
	"dynamic_line": "I'm still waiting.",
    "responses": [
      { "text": "I'm already on it!", "topic": "TALK_DONE", "condition":{"not":{"u_has_item":"ip_leader_head"}}},
      { "text": "Here it is.", "topic": "flame_knuckle_leader_pleased",
		"condition":{"u_has_item":"ip_leader_head"},
		"effect":[{"u_consume_item":"ip_leader_head"}]
	  },
      { "text": "Actually, let's fight!", "topic": "flame_knuckle_leader_bad"}
    ]
  },
  {
    "id": ["flame_knuckle_leader_pleased"],
    "type": "talk_topic",
	"dynamic_line": "Very well. Consider that you have received my trust. If you still want to become a student of my school, come to me when you have free time.",
    "responses": [
      { "text": "Thank you for your trust.", "topic": "TALK_DONE", "effect":[{"npc_first_topic":"flame_knuckle_leader_1"}]}
    ]
  },
  {
    "id": ["flame_knuckle_leader_bad"],
    "type": "talk_topic",
	"dynamic_line": "So, we do this easy way or a hard way?",
    "responses": [
      { "text": "Easy way, please.", "topic": "flame_knuckle_leader_easy" },
      { "text": "Hard way, please.", "topic": "flame_knuckle_leader_hard" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_easy",
    "dynamic_line": "Bend over.",
    "responses": [
      { "text": "Oh noes!", "topic": "TALK_DONE", "effect": "start_mugging" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_hard",
    "dynamic_line": "So be it!.",
    "responses": [
      { "text": "Let's rock!", "topic": "TALK_DONE", "effect":[{"u_faction_rep":-100}] }
    ]
  },
  {
    "type": "talk_topic",
    "id": [ "flame_knuckle_leader_1" ],
	"dynamic_line": "Hello there.",
    "responses": [
	  { 
		"text": "About that job...",
		"condition": "has_assigned_mission",
		"topic": "TALK_MISSION_INQUIRE"
	  },
      { "text": "What's your story?", "topic": "flame_knuckle_leader_Background" },
      { "text": "Do you need any help?", "topic": "TALK_MISSION_LIST"},
      { "text": "Can you teach me something?", "topic": "flame_knuckle_leader_teach_check"},
      { "text": "Goodbye.", "topic": "TALK_DONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_Background",
    "dynamic_line": "WIP!",
    "responses": [
      { "text": "Interesting", "topic": "TALK_NONE" }
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_teach_check",
    "dynamic_line": "I teach only those who help my school. Did you helped my school?",
    "responses": [
      { "text": "Yeah, bruh, i'm cool", "topic": "flame_knuckle_leader_teach",
	    "condition": {"npc_has_var": "u_helped_flame_knuckle_leader", "type": "general", "context": "meeting", "value": "yes"},
		"trial": { "type": "CONDITION", 
			"condition": {"npc_has_var": "flame_knuckle_leader_teach", "type": "general", "context": "meeting", "value": "yes"}
		},
		"success": {
			"effect":[
				{"u_buy_item": "manual_aikido"},
				{"npc_lose_var": "flame_knuckle_leader_teach", "type": "general", "context": "meeting", "value": "yes"}
			],
			"topic": "flame_knuckle_leader_aikido" 
		},
		"failure": { "topic": "flame_knuckle_leader_teach_done" }
	  },
      { "text": "Sorry I'm noob", "topic": "TALK_NONE"
	  }
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_teach",
    "dynamic_line": "I learned all from this book. You can take it now. Good luck, student!",
    "responses": [
      { "text": "Thanks, master!", "topic": "TALK_DONE"}
    ]
  },
  {
    "type": "talk_topic",
    "id": "flame_knuckle_leader_teach_done",
    "dynamic_line": "I already taught you all I knew.",
    "responses": [
      { "text": "Thanks again, teacher.", "topic": "TALK_DONE" }
    ]
  },
  {
    "id": "MISSION_flame_knuckle_leader_1",
    "type": "mission_definition",
    "name": { "str": "Find me new students" },
    "description": "Find new students.",
    "goal": "MGOAL_CONDITION",
	"goal_condition": {"u_has_var":"fkl_students", "type": "flag", "context": "meeting", "value": "2"},
    "difficulty": 0,
    "value": 1000,
	"start":{
		"effect":[
			{"u_add_var":"fkl_students", "type": "flag", "context": "meeting", "value": "0"},
			{"u_add_var":"students_transfer", "type": "flag", "context": "meeting", "value": "fk"}
		]
	},
	"end":{
		"effect":[
			{"npc_add_var": "u_helped_flame_knuckle_leader", "type": "general", "context": "meeting", "value": "yes"},
			{"npc_add_var": "flame_knuckle_leader_teach", "type": "general", "context": "meeting", "value": "yes"},
			{"u_lose_var":"fkl_students", "type": "flag", "context": "meeting", "value": "2"}
		]
	},
    "origins": [ "ORIGIN_SECONDARY" ],
    "dialogue": {
      "describe": "True student!!!",
      "offer": "Bring me students.",
      "accepted": "I'm waiting.",
      "rejected": "Afraid?",
      "advice": "Go.",
      "inquire": "I'm waiting.",
      "success": "Good. Here's your reward.",
      "success_lie": "True warriors don't lie!",
      "failure": "You are a disgrace to your family!"
	}
  }
]